<div id="anatomyDetails">

    <script>
        // jquery check
        if (typeof $ == "undefined") {
            var e = document.createElement("script");
            e.src = "/javascript/vfb/stackManager.js";
            e.type = "text/javascript";
            document.getElementsByTagName("head")[0].appendChild(e);
        }
        // StackViewer Check
        if (typeof lastkey == "undefined") {
            var e = document.createElement("script");
            e.src = "//code.jquery.com/jquery-1.11.3.min.js";
            e.type = "text/javascript";
            document.getElementsByTagName("head")[0].appendChild(e);
        }
        var dq = '"';
        var localID = getUrlParameter('id');
        if (typeof requestID !== 'undefined' && requestID !== "") {
            localID = requestID;
            requestID = "";
        }
    </script>


    <!-- Google Analytics -->
    <script>
        dataLayer.push({
            'event': 'sendVirtualPageview',
            'vpv': '/site/tools/term_info/info.htm?fbId=' + localID
        });
    </script>
    <!-- End Google Analytics -->


    <div class="well-white" style="padding-top: 0px;">
        <div class="row">
            <div class="col-xs-12">
                <h2><a href="#details"
                       onclick="openFullDetails(localID)" title="View details and run queries"><span
                        id="partName"><script>neoCall('MATCH (a) where a.short_form = ' + dq + localID + dq + ' return a.label limit 1', 'partName')</script></span></a>
                </h2>
                <script>
                    detailsUpdating = false;
    				function updateDetailButtons(){
    					$('#detailButtons').html(
    						createControlsBarHTML(localID)
    					);
    					$('#detailButtons').css('position','absolute');
    					$('#detailButtons').css('top','0px');
    					$('#detailButtons').css('right','5px');
    					buttons=$('#detailButtons > div > div > button');
    					buttons.each(function(index){
    						if ($(this).html().indexOf('eye')>-1 || $(this).html().indexOf('trash')>-1 || $(this).html().indexOf('paperclip')>-1){
    							$(this).attr('onclick',$(this).attr('onclick') + "updateDetailButtons();");
    							if ($(this).html().indexOf('paperclip')>-1 && parent.$('body').data('available').indexOf(localID)<0 && localID.indexOf('VFB')<0){
    								$(this).attr('disabled','true');
    								$(this).attr('title','Not labeled in this stack');
    							}
    						}
    					});
    					buttons.first().hide();
    					$('button.btn').each(function(index){$(this).attr('data-toggle','tooltip');
    						$(this).attr('data-placement','top');
    						$(this).tooltip();
    					});
    				};
    				$('body').ready( function () {
    					updateDetailButtons();
    				});
    			</script>
			    <div id="detailButtons" style="position:absolute;top:0px;right:5px;"></div>
            

                <p>
                    <b>ID: </b><a id="partId" href="#details" onclick="openFullDetails(localID);"
                                  target="_top" title="View details and run queries">
                    <script>document.getElementById("partId").innerHTML = localID</script>
                </a>


                <p style="display: none;">
                    <b>Synonyms: </b><span id="infoSyn"><script>neoCall('MATCH (n { short_form: ' + dq + localID + dq + ' } )-[r:SUBCLASSOF|Related|has_reference]->(sc) where r.typ="syn" RETURN r.synonym + " ["+r.scope+"] " + "(" +coalesce("<a href=\\""+ coalesce("http://flybase.org/reports/" +sc.FlyBase, "http://www.ncbi.nlm.nih.gov/pubmed/" + sc.PMID , "http://dx.doi.org/"+ sc.DOI, "https://www.google.com/search?q=" + sc.miniref) + "\\" target=\\"_blank\\">" + sc.miniref + "</a>",sc.FlyBase, "PMID:" + sc.PMID , sc.DOI, sc.short_form, r.short_form, "Unattributed")+ ")" as synonym', 'infoSyn');</script></span>
                </p>

                <p id="partDef" style="display: none;">
                    <b>Definition: </b><span id="infoDef"><script>neoCall('MATCH (a) where a.short_form = ' + dq + localID + dq + ' return a.description[0] limit 1', 'infoDef');</script></span>
                    <span id="infoDefRef">
                        <script>
                            neoCall('MATCH (n:Class { short_form: "' + localID + '" } )-[r:SUBCLASSOF|Related|has_reference]->(sc) where r.typ = "def" RETURN " (" +coalesce("<a href=\\""+ coalesce("http://flybase.org/reports/" +sc.FlyBase, "http://www.ncbi.nlm.nih.gov/pubmed/" + sc.PMID , "http://dx.doi.org/"+ sc.DOI, "https://www.google.com/search?q=" + sc.miniref) + "\\" target=\\"_blank\\">" + sc.miniref + "</a>",sc.FlyBase, "PMID:" + sc.PMID , sc.DOI, sc.short_form, r.short_form, "Unattributed")+ ")" as ref','infoDefRef')
                        </script>
                    </span>
                </p>

                <p style="display: none;">
                    <b>Comment: </b><span id="infoComment"><script>neoCall('MATCH (a) where a.short_form = "' + localID + '" return a.`annotation-comment`[0] limit 1', 'infoComment');</script></span>
                </p>

                <p style="display: none;">
                    <b>Type: </b>
                    <span id="infoType">
                        <script>
                            neoCall('MATCH (n:Individual { short_form: "' + localID + '" } )-[r:INSTANCEOF|Related|has_reference]->(sc) WHERE r.label = "type" RETURN "<a href=\\"#details\\" onclick=\\"openFullDetails(\'" + sc.short_form + "\');\\" title=\\"Look up\\" target=\\"_top\\">" + sc.label + "</a>  <span style=\\"border:none;padding-left:0px;padding-right:0px;\\" id=\\"attach\\" data-id=\\"" + sc.short_form + "\\"></span>" as type', 'infoType');
                            neoCall('MATCH (n:Class { short_form: "' + localID + '" } )-[r:SUBCLASSOF|Related|has_reference]->(sc) WHERE r.label = "is a" RETURN "<a href=\\"#details\\" onclick=\\"openFullDetails(\'" + sc.short_form + "\');\\" title=\\"Look up\\" target=\\"_top\\">" + sc.label + "</a>  <span style=\\"border:none;padding-left:0px;padding-right:0px;\\" id=\\"attach\\" data-id=\\"" + sc.short_form + "\\"></span>" as type', 'infoType');
                        </script>
                    </span>
                </p>

                <p style="display: none;">
                    <b>Relationships: </b><br>
                    <span id="partRel">
                        <script>
                            neoCall('MATCH (n:VFB:Individual { short_form: "' + localID + '" } )-[r:INSTANCEOF|Related|has_reference]->(sc) WHERE r.label <> "type" RETURN r.label + " <a href=\\"#details\\" onclick=\\"openFullDetails(\'" + sc.short_form + "\');\\" title=\\"Look up\\" target=\\"_top\\">" + sc.label + "</a> " + "(" +coalesce("<a href=\\""+ coalesce("http://flybase.org/reports/" +sc.FlyBase, "http://www.ncbi.nlm.nih.gov/pubmed/" + sc.PMID , "http://dx.doi.org/"+ sc.DOI, "https://www.google.com/search?q=" + sc.miniref) + "\\" target=\\"_blank\\">" + sc.miniref + "</a>",sc.FlyBase, "PMID:" + sc.PMID , sc.DOI, sc.short_form, r.short_form, "Unattributed")+ ") <span style=\\"border:none;padding-left:0px;padding-right:0px;\\" id=\\"attach\\" data-id=\\"" + sc.short_form + "\\"></span>" as type', 'partRel');
                            neoCall('MATCH (n:Class { short_form: "' + localID + '" } )-[r:SUBCLASSOF|Related|has_reference]->(sc) WHERE r.label <> "is a" RETURN  r.label + " <a href=\\"#details\\" onclick=\\"openFullDetails(\'" + sc.short_form + "\');\\" title=\\"Look up\\" target=\\"_top\\">" + sc.label + "</a> " + "(" +coalesce("<a href=\\""+ coalesce("http://flybase.org/reports/" +sc.FlyBase, "http://www.ncbi.nlm.nih.gov/pubmed/" + sc.PMID , "http://dx.doi.org/"+ sc.DOI, "https://www.google.com/search?q=" + sc.miniref) + "\\" target=\\"_blank\\">" + sc.miniref + "</a>",sc.FlyBase, "PMID:" + sc.PMID , sc.DOI, sc.short_form, r.short_form, "Unattributed")+ ") <span style=\\"border:none;padding-left:0px;padding-right:0px;\\" id=\\"attach\\" data-id=\\"" + sc.short_form + "\\"></span>" as type', 'partRel');   
                        </script>
                    </span>
                </p>

                <p style="display: none;">
                    <b>References: </b><br>
                </p>

                <p style="display: none;">
                    <b>Image:</b><br>
                    <span id="infoImage"><script>if (localID.indexOf('VFB') > -1) {
                        $('#infoImage').html(thumbnailHTMLForId(localID).replace(' thumb_sm','').replace('openFullDetails','addToStackData').replace('/>','style="width: 350px; cursor: pointer; display: block;" />').replace('/>',' onerror="$('#infoImage').parent('p').hide();" />'));
                        $('#infoImage').parent('p').show();
                    }</script></span>
                    <br>
                    <b>Source:</b> <a href="/site/vfb_site/image_data_downloads.htm" target="_blank"
                                      title="Open in See the listed reference">See the listed reference</a>
                    <br>
                    <br>
                    <span id="ResolvedImageViewerOpen" data-id="VFB_00030753" data-name="Image"><button
                            class="btn btn-sm btn-success"
                            onclick="post('/site/stacks/index.htm',{'add':'VFBi_00030753'});" title=""
                            data-toggle="tooltip" data-placement="top" data-original-title="Open in stack viewer">Open in stack viewer</button></span>
                    <br>
                    <script>
                    	$('#ResolvedImageViewerOpen').data().id=localID;
             		$('#ResolvedImageViewerOpen').data().name=$('#partName').text();
             		$('#ResolvedImageViewerOpen .btn').data().originalTitle='Open '+$('#partName').text()+' in stack viewer';
             		$('#ResolvedImageViewerOpen .btn').attr('onclick',"addToStackData('"+localID+"')");
             		$('#ResolvedImageViewerOpen .btn').html('Open '+$('#partName').text()+' in stack viewer');
                    </script>
                </p>

                <div style="display: none;">
                    <b>Examples:</b><br>
                    <span id="infoExamp">
                        <script>
                            genExamples(localID, "infoExamp");
                        </script>
                    </span>
                </div>


            </div>
        </div>
        <script>

        </script>
    </div>
</div>
